export * from "../server/protos/schema_grpc_pb";
export * from "../server/protos/schema_pb";

import grpc from "grpc";
import { {{pascalCase name}}Client } from "../server/protos/schema_grpc_pb";

export class {{pascalCase name}}ClientGenerator {
  public url: string;

  constructor(url: string) {
    this.setURL(url);
  }

  setURL(url: string): {{pascalCase name}}ClientGenerator {
    this.url = url;
    return this;
  }

  create(): {{pascalCase name}}Client {
    const client = new {{pascalCase name}}Client(
      this.url,
      grpc.credentials.createInsecure()
    ) as {{pascalCase name}}Client;

    return client;
  }
}

export default {{pascalCase name}}ClientGenerator;
